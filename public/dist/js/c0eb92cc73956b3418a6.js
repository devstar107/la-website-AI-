"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9317],{1047:(t,e,n)=>{n.d(e,{Z:()=>_});var i=n(7757),a=n.n(i),o=n(629),r=n(9669),s=n.n(r),c=n(8764),l=n.n(c);function d(t,e,n,i,a,o,r){try{var s=t[o](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,a)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function r(t){d(o,i,a,r,s,"next",t)}function s(t){d(o,i,a,r,s,"throw",t)}r(void 0)}))}}const u={props:{sendId:[String,Number]},watch:{sendId:{immediate:!0,deep:!0,handler:function(t,e){t&&e&&this.getComments(t),this.new_comment_info_id=t}}},data:function(){return{new_comment_info_id:"",comment:"",reply:"",loading:!1,comments_data:[],reply_comment_id:"",reply_info_id:"",reply_data:[],edit_comment_id:"",edit_info_id:"",edit_comment_content:""}},computed:(0,o.Se)({user:"auth/user"}),created:function(){this.$root.$i18n.locale;var t=this.$route.query.id;this.getComments(t)},methods:{getComments:function(t){var e=this;return m(a().mark((function n(){var i,o,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().get("/api/get/comments/"+t);case 2:for(i=n.sent,o=i.data,r=0;r<o.length;r++)null==o[r].photo_url?o[r].photo_url="https://www.gravatar.com/avatar/%s.jpg?s=200&d=https://ui-avatars.com/api/"+o[r].name:o[r].photo_url="/upload/users/"+o[r].photo_url;e.comments_data=o;case 6:case"end":return n.stop()}}),n)})))()},comment_post:function(){var t=this;return m(a().mark((function e(){var n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loading=!0,""!=t.$refs.comment.value){e.next=5;break}t.$refs.comment.focus(),e.next=10;break;case 5:return e.next=7,s().post("/api/comment/post",{user_id:t.user.id,info_id:t.new_comment_info_id,comment:t.comment});case 7:n=e.sent,(i=n.data)?l().fire({icon:"success",title:t.$t("successTitle"),text:t.$t("successText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}).then((function(){t.getComments(i.info_id),t.comment=""})):l().fire({icon:"warning",title:t.$t("warningTitle"),text:t.$t("warningText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")});case 10:t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()},reply_param:function(t,e){this.reply_comment_id=e,this.reply_info_id=t},reply_post:function(){var t=this;return m(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user){e.next=4;break}l().fire({icon:"warning",title:t.$t("warningTitle"),text:t.$t("must_login_content"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}),e.next=11;break;case 4:return t.loading=!0,e.next=7,s().post("/api/reply/post",{user_id:t.user.id,info_id:t.reply_info_id,comment_id:t.reply_comment_id,comment_answer:t.reply});case 7:n=e.sent,n.data?l().fire({icon:"success",title:t.$t("successTitle"),text:t.$t("successText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}).then((function(){t.reply=""})):l().fire({icon:"warning",title:t.$t("warningTitle"),text:t.$t("warningText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}),t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()},view_reply_action:function(t){var e=this;return m(a().mark((function n(){var i,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().get("/api/get/answers/"+t);case 2:i=n.sent,o=i.data,e.reply_data=o;case 5:case"end":return n.stop()}}),n)})))()},edit_comment_param:function(t,e,n){this.edit_info_id=t,this.edit_comment_id=e,this.edit_comment_content=n},edit_comment_post:function(){var t=this;return m(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,s().post("/api/comment/edit",{id:t.edit_comment_id,comment:t.edit_comment_content});case 3:n=e.sent,n.data?l().fire({icon:"success",title:t.$t("successTitle"),text:t.$t("successText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}).then((function(){t.getComments(t.edit_info_id),t.edit_comment_content=""})):l().fire({icon:"warning",title:t.$t("warningTitle"),text:t.$t("warningText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}),t.loading=!1;case 7:case"end":return e.stop()}}),e)})))()},delete_comment_action:function(t,e){var n=this;return m(a().mark((function i(){var o,r;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,s().get("/api/comment/delete/"+t+"/"+e);case 2:o=i.sent,(r=o.data)?l().fire({icon:"success",title:n.$t("successTitle"),text:n.$t("successText"),reverseButtons:!0,confirmButtonText:n.$t("ok"),cancelButtonText:n.$t("cancel")}).then((function(){n.comments_data=r})):l().fire({icon:"warning",title:n.$t("warningTitle"),text:n.$t("warningText"),reverseButtons:!0,confirmButtonText:n.$t("ok"),cancelButtonText:n.$t("cancel")});case 5:case"end":return i.stop()}}),i)})))()}}};const _=(0,n(1900).Z)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container comment"},[n("div",{staticClass:"comment_title"},[n("h5",[t._v(t._s(t.$t("comment_title")))])]),t._v(" "),"0"!=t.comments_data.length?n("div",{staticClass:"display_comments"},t._l(t.comments_data,(function(e){return n("b-card",{key:e.id,scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"text-md-start",staticStyle:{display:"flex"}},[n("img",{staticClass:"rounded-circle profile-photo me-1",attrs:{src:e.photo_url}}),t._v(" "),n("h5",{staticClass:"mb-0 text-md-start",staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.nikename?e.nikename:e.name))])]),t._v(" "),n("div",{staticClass:"text-md-end"},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"modal_reply_"+e.info_id+"_"+e.id,expression:"'modal_reply_'+comment.info_id+'_'+comment.id"}],attrs:{variant:"link"},on:{click:function(n){return t.reply_param(e.info_id,e.id)}}},[t._v(t._s(t.$t("reply"))+"\n                    ")]),t._v(" "),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"modal_view_"+e.info_id+"_"+e.id,expression:"'modal_view_'+comment.info_id+'_'+comment.id"}],attrs:{variant:"link"},on:{click:function(n){return t.view_reply_action(e.id)}}},[t._v("\n                        "+t._s(t.$t("answers_view")))]),t._v(" "),t.user&&t.user.id==e.user_id?n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"modal_edit_"+e.info_id+"_"+e.id,expression:"'modal_edit_'+comment.info_id+'_'+comment.id"}],attrs:{variant:"link"},on:{click:function(n){return t.edit_comment_param(e.info_id,e.id,e.comment)}}},[t._v(t._s(t.$t("edit"))+"\n                    ")]):t._e(),t._v(" "),t.user&&t.user.id==e.user_id?n("b-button",{attrs:{variant:"link"},on:{click:function(n){return t.delete_comment_action(e.info_id,e.id)}}},[t._v(t._s(t.$t("delete"))+"\n                    ")]):t._e(),t._v(" "),n("b-modal",{ref:"modal_reply_"+e.info_id+"_"+e.id,refInFor:!0,attrs:{"hide-footer":"",id:"modal_reply_"+e.info_id+"_"+e.id,title:t.$t("reply")}},[n("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.reply_post.apply(null,arguments)}}},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"body-pannel"},[n("b-form-textarea",{ref:"reply",refInFor:!0,attrs:{type:"text",rows:"3",required:""},model:{value:t.reply,callback:function(e){t.reply=e},expression:"reply"}})],1)]),t._v(" "),n("div",{staticClass:"col-md-12 col-sm-12",staticStyle:{"padding-top":"5px"}},[n("div",{staticClass:"body-pannel",staticStyle:{"text-align":"right"}},[n("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.loading}},[n("b-spinner",{attrs:{small:"",hidden:!t.loading}}),t._v("\n                                        "+t._s(t.$t("reply"))+"\n                                    ")],1)],1)])])]),t._v(" "),n("b-modal",{ref:"modal_view_"+e.info_id+"_"+e.id,refInFor:!0,attrs:{"hide-footer":"",scrollable:"",id:"modal_view_"+e.info_id+"_"+e.id,title:t.$t("all_answers")}},[0===t.reply_data.length?n("div",[n("h5",[t._v(t._s(t.$t("all_answers_no_data_des")))])]):n("div",t._l(t.reply_data,(function(e){return n("b-card",{key:e.id,staticStyle:{padding:"5px 0"}},[n("b-card-body",[n("div",{staticClass:"text-md-start",staticStyle:{display:"flex"}},[n("img",{staticClass:"rounded-circle profile-photo me-1",attrs:{src:"/upload/users/"+e.photo_url}}),t._v(" "),n("h6",{staticClass:"mb-0 text-md-start",staticStyle:{"padding-left":"10px"}},[t._v("\n                                            "+t._s(e.comment_answer))])])])],1)})),1)]),t._v(" "),n("b-modal",{ref:"modal_edit_"+e.info_id+"_"+e.id,refInFor:!0,attrs:{"hide-footer":"",id:"modal_edit_"+e.info_id+"_"+e.id,title:t.$t("edit")}},[n("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.edit_comment_post.apply(null,arguments)}}},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"body-pannel"},[n("b-form-textarea",{attrs:{type:"text",rows:"3",required:""},model:{value:t.edit_comment_content,callback:function(e){t.edit_comment_content=e},expression:"edit_comment_content"}})],1)]),t._v(" "),n("div",{staticClass:"col-md-12 col-sm-12",staticStyle:{"padding-top":"5px"}},[n("div",{staticClass:"body-pannel",staticStyle:{"text-align":"right"}},[n("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.loading}},[n("b-spinner",{attrs:{small:"",hidden:!t.loading}}),t._v("\n                                        "+t._s(t.$t("post_comment"))+"\n                                    ")],1)],1)])])])],1)]},proxy:!0}],null,!0)},[t._v(" "),n("b-card-body",[n("h5",[t._v(t._s(e.comment))])])],1)})),1):t._e(),t._v(" "),t.user?n("div",[n("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.comment_post.apply(null,arguments)}}},[n("div",{staticClass:"col-md-12"},[n("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("comment")))]),t._v(" "),n("div",{staticClass:"body-pannel"},[n("b-form-textarea",{ref:"comment",attrs:{type:"text",rows:"5"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)]),t._v(" "),n("div",{staticClass:"col-md-12 col-sm-12",staticStyle:{"padding-top":"5px"}},[n("div",{staticClass:"body-pannel",staticStyle:{"text-align":"right"}},[n("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.loading}},[n("b-spinner",{attrs:{small:"",hidden:!t.loading}}),t._v("\n                        "+t._s(t.$t("post_comment"))+"\n                    ")],1)],1)])])]):n("div",[n("h6",[t._v("In order to edit new comment, Please "),n("router-link",{attrs:{to:{name:"login"}}},[t._v(t._s(t.$t("login")))])],1)])])}),[],!1,null,null,null).exports},7372:(t,e,n)=>{n.d(e,{Z:()=>l});var i=n(7757),a=n.n(i),o=n(9669),r=n.n(o);function s(t,e,n,i,a,o,r){try{var s=t[o](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,a)}const c={data:function(){return{informations:[],authors:""}},methods:{getInformations:function(t){var e,n=this;return(e=a().mark((function e(){var i,o,s,c,l,d,m,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r().get("/api/get/new_informations/"+t);case 2:for(c in i=e.sent,o=[],s="",Object.keys(i.data))s=i.data[c].nikename?i.data[c].nikename:i.data[c].name,null==o||o==s?o=[s]:o.push(s);for(l=[],d=[],m=0;m<o.length;m++){for(u in d=[],Object.keys(i.data))i.data[u].nikename!=o[m]&&i.data[u].name!=o[m]||d.push(i.data[u]);l.push(d)}n.authors=o,n.informations=l;case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(t){s(o,i,a,r,c,"next",t)}function c(t){s(o,i,a,r,c,"throw",t)}r(void 0)}))})()},selectInfo:function(t,e){this.$emit("selected",[t,e]),window.scrollTo(0,0)}},created:function(){this.locale=this.$root.$i18n.locale,this.getInformations(this.locale)}};const l=(0,n(1900).Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container new_information"},["0"!=t.informations.length?n("div",t._l(t.informations.length,(function(e){return n("div",{key:e,staticClass:"author_pannel col-md-12"},[n("div",{staticClass:"author_pan col-md-12"},[n("b-card",[n("h5",[t._v(t._s(t.authors[e-1]))])])],1),t._v(" "),n("div",{staticClass:"information_list_pan col-md-12 row"},t._l(t.informations[e-1].length,(function(i){return n("div",{key:i},[n("b-card",[n("h6",{on:{click:function(n){return t.selectInfo(t.informations[e-1][i-1].id,t.informations[e-1][i-1].nikename?t.informations[e-1][i-1].nikename:t.informations[e-1][i-1].name)}}},[t._v("\n                            "+t._s(null!=t.informations[e-1][i-1].title&&t.informations[e-1][i-1].title.length>80?t.informations[e-1][i-1].title.slice(0,80)+"...":t.informations[e-1][i-1].title)+"\n                        ")])])],1)})),0)])})),0):t._e()])}),[],!1,null,null,null).exports},9317:(t,e,n)=>{n.r(e),n.d(e,{default:()=>_});var i=n(7757),a=n.n(i),o=n(9669),r=n.n(o),s=n(629),c=n(8764),l=n.n(c);n(7372);function d(t,e,n,i,a,o,r){try{var s=t[o](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,a)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function r(t){d(o,i,a,r,s,"next",t)}function s(t){d(o,i,a,r,s,"throw",t)}r(void 0)}))}}const u={data:function(){return{detail_data:"",author:"",info_id:"",editable_title:"",editable_content:"",loading:!1,mobile:""}},components:{CommentSection:n(1047).Z},mounted:function(){screen.width<=991?this.mobile=!0:this.mobile=!1},methods:{edit_information:function(t,e){this.editable_title=t,this.editable_content=e},update_information:function(){var t=this;return m(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,r().post("/api/post/information/update",{title:t.editable_title,content:t.editable_content,info_id:t.info_id});case 3:(n=e.sent)?l().fire({icon:"success",title:t.$t("successTitle"),text:t.$t("successText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}).then((function(){console.log(n.data.content),n.data.content=btoa(n.data.content),console.log(n.data.content),t.detail_data=n.data,t.info_id=n.data.id})):l().fire({icon:"warning",title:t.$t("warningTitle"),text:t.$t("warningText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},getInfoDetailData:function(t){var e=this;return m(a().mark((function n(){var i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r().get("/api/get/information/detail/"+t);case 2:i=n.sent,e.detail_data=i.data,e.info_id=i.data.id;case 5:case"end":return n.stop()}}),n)})))()},selectInfo:function(t){this.getInfoDetailData(t[0]),this.author=t[1]}},computed:(0,s.Se)({user:"auth/user"}),created:function(){var t=this.$route.query.id;this.author=this.$route.query.author,this.getInfoDetailData(t)}};const _=(0,n(1900).Z)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header"},[t.mobile?n("div",{staticClass:"title",staticStyle:{padding:"0 10px"}},[n("h3",[t._v(t._s(t.detail_data.title))])]):n("div",{staticClass:"container title"},[n("h1",[t._v(t._s(t.detail_data.title))])])]),t._v(" "),n("div",{staticClass:"container content"},[n("div",{staticClass:"detail_des"},[n("h6",[t._v("You are here:\n                "),n("router-link",{staticStyle:{display:"inline"},attrs:{to:{name:t.$t("home.url")}}},[t._v("\n                    "+t._s(t.$t("home.text"))+"\n                ")]),t._v("/\n                "),n("router-link",{staticStyle:{display:"inline"},attrs:{to:{name:t.$t("informations.url")}}},[t._v("\n                    New Informations\n                ")]),t._v("\n                / "+t._s(t.detail_data.title)+"\n            ")],1)]),t._v(" "),n("div",{staticClass:"detail_content"},[n("div",{staticClass:"detail_date"},[n("h6",[t._v(t._s(t.detail_data.created_at)+" by "),n("a",{attrs:{href:"#"}},[n("i",[t._v(t._s(t.author))])])]),t._v(" "),t.user&&t.user.id==t.detail_data.user_id?n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.edit_information_modal",modifiers:{edit_information_modal:!0}}],attrs:{variant:"link"},on:{click:function(e){return t.edit_information(t.detail_data.title,t.detail_data.content)}}},[n("b-icon",{staticStyle:{"padding-right":"5px"},attrs:{icon:"pencil"}}),t._v(t._s(t.$t("edit"))+"\n                ")],1):t._e()],1),t._v(" "),n("div",{staticClass:"detail_content"},[n("h5",[t._v(t._s(t.detail_data.content))])]),t._v(" "),n("b-modal",{ref:"edit_information_modal",attrs:{"hide-footer":"",id:"edit_information_modal",title:t.$t("edit"),size:"xl",scrollable:""}},[n("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.update_information.apply(null,arguments)}}},[n("div",{staticClass:"col-md-12",staticStyle:{"margin-bottom":"10px"}},[n("div",{staticClass:"body-pannel"},[n("b-form-input",{attrs:{type:"text",required:""},model:{value:t.editable_title,callback:function(e){t.editable_title=e},expression:"editable_title"}})],1)]),t._v(" "),n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"body-pannel"},[n("b-form-textarea",{attrs:{type:"text",rows:"10",required:""},model:{value:t.editable_content,callback:function(e){t.editable_content=e},expression:"editable_content"}})],1)]),t._v(" "),n("div",{staticClass:"col-md-12 col-sm-12",staticStyle:{"padding-top":"5px"}},[n("div",{staticClass:"body-pannel",staticStyle:{"text-align":"right"}},[n("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.loading}},[n("b-spinner",{attrs:{small:"",hidden:!t.loading}}),t._v("\n                                "+t._s(t.$t("update"))+"\n                            ")],1)],1)])])])],1)]),t._v(" "),n("CommentSection",{attrs:{sendId:this.info_id}})],1)}),[],!1,null,"36a03f47",null).exports}}]);