"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6534],{6534:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var r=s(7757),a=s.n(r),l=s(9669),n=s.n(l),i=s(8764),o=s.n(i);function c(e,t,s,r,a,l,n){try{var i=e[l](n),o=i.value}catch(e){return void s(e)}i.done?t(o):Promise.resolve(o).then(r,a)}function u(e){return function(){var t=this,s=arguments;return new Promise((function(r,a){var l=e.apply(t,s);function n(e){c(l,r,a,n,i,"next",e)}function i(e){c(l,r,a,n,i,"throw",e)}n(void 0)}))}}const m={data:function(){return{items:"",fields:[{key:"index",label:""},{key:"name",label:this.$root.$i18n.tc("name")},{key:"email",label:this.$root.$i18n.tc("email")},{key:"role",label:this.$root.$i18n.tc("role")},{key:"permission",label:this.$root.$i18n.tc("permission")},{key:"phone",label:this.$root.$i18n.tc("phone")},{key:"action",label:this.$root.$i18n.tc("action")}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15,{value:100,text:this.$root.$i18n.tc("show_a_lot")}],filter:null,filterOn:[]}},mounted:function(){this.totalRows=this.items.length},methods:{onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},getUsers:function(){var e=this;return u(a().mark((function t(){var s,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n().get("/api/get/users");case 2:s=t.sent,r=s.data,e.items=r,e.totalRows=e.items.length;case 6:case"end":return t.stop()}}),t)})))()},removeRow:function(e){this.items.splice(e,1)},delete_user:function(e){var t=this;return u(a().mark((function s(){var r,l;return a().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(e),s.next=3,n().post("/api/post/delete_user",{user_id:e});case 3:r=s.sent,l=r.data,console.log(l),"success"==l.status?o().fire({icon:"success",title:t.$t("successTitle"),text:t.$t("successText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}).then((function(){t.getUsers()})):o().fire({icon:"warning",title:t.$t("warningTitle"),text:t.$t("warningText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")});case 7:case"end":return s.stop()}}),s)})))()}},created:function(){this.getUsers()}};const p=(0,s(1900).Z)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"d-sm-flex align-items-center justify-content-between mb-4"},[s("h1",{staticClass:"h3 mb-0 text-gray-800"},[e._v(e._s(e.$t("title_users")))])]),e._v(" "),s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:e.$t("filter"),"label-for":"filter-input","label-cols-sm":"2","label-align-sm":"right","label-size":"sm"}},[s("b-input-group",{attrs:{size:"sm"}},[s("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),s("b-input-group-append",[s("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v(e._s(e.$t("clear")))])],1)],1)],1)],1),e._v(" "),s("b-col",{staticClass:"my-1",attrs:{lg:"8"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:e.$t("filter_on"),"label-cols-sm":"2","label-align-sm":"right","label-size":"sm"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[s("b-form-checkbox-group",{staticClass:"mt-1",attrs:{"aria-describedby":r},model:{value:e.filterOn,callback:function(t){e.filterOn=t},expression:"filterOn"}},[s("b-form-checkbox",{attrs:{value:"name"}},[e._v(e._s(e.$t("name")))]),e._v(" "),s("b-form-checkbox",{attrs:{value:"email"}},[e._v(e._s(e.$t("email")))]),e._v(" "),s("b-form-checkbox",{attrs:{value:"phone"}},[e._v(e._s(e.$t("phone")))]),e._v(" "),s("b-form-checkbox",{attrs:{value:"role"}},[e._v(e._s(e.$t("role")))]),e._v(" "),s("b-form-checkbox",{attrs:{value:"permission"}},[e._v(e._s(e.$t("permission")))])],1)]}}])})],1),e._v(" "),s("b-col",{staticClass:"my-1",attrs:{md:"4"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:e.$t("per_page"),"label-for":"per-page-select","label-cols-lg":"4","label-align-sm":"center","label-size":"sm"}},[s("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),e._v(" "),s("b-col",{attrs:{md:"5"}}),e._v(" "),s("b-col",{staticClass:"my-1",attrs:{md:"3"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),e._v(" "),s("b-table",{attrs:{responsive:"",striped:"",hover:"",items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,stacked:"md","show-empty":"",small:""},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(index)",fn:function(t){return[e._v("\n                "+e._s(t.index+1)+"\n            ")]}},{key:"cell(email)",fn:function(t){return[s("router-link",{attrs:{to:{name:"user-profile",params:{id:t.item.id}}}},[e._v(e._s(t.value))])]}},{key:"cell(role)",fn:function(t){return[e._v("\n                "+e._s(e.$t(t.value))+"\n            ")]}},{key:"cell(permission)",fn:function(t){return[e._v("\n                "+e._s(e.$t(t.value))+"\n            ")]}},{key:"cell(action)",fn:function(t){return[s("b-icon",{attrs:{icon:"trash",variant:"primary"},on:{click:function(s){return e.delete_user(t.item.id)}}})]}}])}),e._v(" "),s("b-row",[s("b-col",{staticClass:"my-1",attrs:{md:"4"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:e.$t("per_page"),"label-for":"per-page-select","label-cols-lg":"4","label-align-sm":"center","label-size":"sm"}},[s("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),e._v(" "),s("b-col",{attrs:{md:"5"}}),e._v(" "),s("b-col",{staticClass:"my-1",attrs:{md:"3"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);