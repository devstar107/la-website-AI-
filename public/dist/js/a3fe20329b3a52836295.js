"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9725],{5714:(s,r,e)=>{e.d(r,{ZP:()=>_});var t=e(9669),o=e.n(t),a=Object.defineProperty,n=Object.prototype.hasOwnProperty,i=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,l=(s,r,e)=>r in s?a(s,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[r]=e,d=(s,r)=>{for(var e in r||(r={}))n.call(r,e)&&l(s,e,r[e]);if(i)for(var e of i(r))c.call(r,e)&&l(s,e,r[e]);return s};const p=s=>void 0===s,u=s=>Array.isArray(s),f=s=>s&&"number"==typeof s.size&&"string"==typeof s.type&&"function"==typeof s.slice,m=(s,r,e,t)=>((r=r||{}).indices=!p(r.indices)&&r.indices,r.nullsAsUndefineds=!p(r.nullsAsUndefineds)&&r.nullsAsUndefineds,r.booleansAsIntegers=!p(r.booleansAsIntegers)&&r.booleansAsIntegers,r.allowEmptyArrays=!p(r.allowEmptyArrays)&&r.allowEmptyArrays,e=e||new FormData,p(s)||(null===s?r.nullsAsUndefineds||e.append(t,""):(s=>"boolean"==typeof s)(s)?r.booleansAsIntegers?e.append(t,s?1:0):e.append(t,s):u(s)?s.length?s.forEach(((s,o)=>{const a=t+"["+(r.indices?o:"")+"]";m(s,r,e,a)})):r.allowEmptyArrays&&e.append(t+"[]",""):(s=>s instanceof Date)(s)?e.append(t,s.toISOString()):!(s=>s===Object(s))(s)||(s=>f(s)&&"string"==typeof s.name&&("object"==typeof s.lastModifiedDate||"number"==typeof s.lastModified))(s)||f(s)?e.append(t,s):Object.keys(s).forEach((o=>{const a=s[o];if(u(a))for(;o.length>2&&o.lastIndexOf("[]")===o.length-2;)o=o.substring(0,o.length-2);m(a,r,e,t?t+"["+o+"]":o)}))),e);var h={serialize:m};function y(s){if(null===s||"object"!=typeof s)return s;const r=Array.isArray(s)?[]:{};return Object.keys(s).forEach((e=>{r[e]=y(s[e])})),r}function w(s){return Array.isArray(s)?s:[s]}function v(s){return s instanceof File||s instanceof Blob||s instanceof FileList||"object"==typeof s&&null!==s&&void 0!==Object.values(s).find((s=>v(s)))}class g{constructor(){this.errors={},this.errors={}}set(s,r){"object"==typeof s?this.errors=s:this.set(d(d({},this.errors),{[s]:w(r)}))}all(){return this.errors}has(s){return Object.prototype.hasOwnProperty.call(this.errors,s)}hasAny(...s){return s.some((s=>this.has(s)))}any(){return Object.keys(this.errors).length>0}get(s){if(this.has(s))return this.getAll(s)[0]}getAll(s){return w(this.errors[s]||[])}only(...s){const r=[];return s.forEach((s=>{const e=this.get(s);e&&r.push(e)})),r}flatten(){return Object.values(this.errors).reduce(((s,r)=>s.concat(r)),[])}clear(s){const r={};s&&Object.keys(this.errors).forEach((e=>{e!==s&&(r[e]=this.errors[e])})),this.set(r)}}class b{constructor(s={}){this.originalData={},this.busy=!1,this.successful=!1,this.recentlySuccessful=!1,this.recentlySuccessfulTimeoutId=void 0,this.errors=new g,this.progress=void 0,this.update(s)}static make(s){return new this(s)}update(s){this.originalData=Object.assign({},this.originalData,y(s)),Object.assign(this,s)}fill(s={}){this.keys().forEach((r=>{this[r]=s[r]}))}data(){return this.keys().reduce(((s,r)=>d(d({},s),{[r]:this[r]})),{})}keys(){return Object.keys(this).filter((s=>!b.ignore.includes(s)))}startProcessing(){this.errors.clear(),this.busy=!0,this.successful=!1,this.progress=void 0,this.recentlySuccessful=!1,clearTimeout(this.recentlySuccessfulTimeoutId)}finishProcessing(){this.busy=!1,this.successful=!0,this.progress=void 0,this.recentlySuccessful=!0,this.recentlySuccessfulTimeoutId=setTimeout((()=>{this.recentlySuccessful=!1}),b.recentlySuccessfulTimeout)}clear(){this.errors.clear(),this.successful=!1,this.recentlySuccessful=!1,this.progress=void 0,clearTimeout(this.recentlySuccessfulTimeoutId)}reset(){Object.keys(this).filter((s=>!b.ignore.includes(s))).forEach((s=>{this[s]=y(this.originalData[s])}))}get(s,r={}){return this.submit("get",s,r)}post(s,r={}){return this.submit("post",s,r)}patch(s,r={}){return this.submit("patch",s,r)}put(s,r={}){return this.submit("put",s,r)}delete(s,r={}){return this.submit("delete",s,r)}submit(s,r,e={}){return this.startProcessing(),e=d({data:{},params:{},url:this.route(r),method:s,onUploadProgress:this.handleUploadProgress.bind(this)},e),"get"===s.toLowerCase()?e.params=d(d({},this.data()),e.params):(e.data=d(d({},this.data()),e.data),v(e.data)&&(e.transformRequest=[s=>h.serialize(s)])),new Promise(((s,r)=>{(b.axios||o()).request(e).then((r=>{this.finishProcessing(),s(r)})).catch((s=>{this.handleErrors(s),r(s)}))}))}handleErrors(s){this.busy=!1,this.progress=void 0,s.response&&this.errors.set(this.extractErrors(s.response))}extractErrors(s){return s.data&&"object"==typeof s.data?s.data.errors?d({},s.data.errors):s.data.message?{error:s.data.message}:d({},s.data):{error:b.errorMessage}}handleUploadProgress(s){this.progress={total:s.total,loaded:s.loaded,percentage:Math.round(100*s.loaded/s.total)}}route(s,r={}){let e=s;return Object.prototype.hasOwnProperty.call(b.routes,s)&&(e=decodeURI(b.routes[s])),"object"!=typeof r&&(r={id:r}),Object.keys(r).forEach((s=>{e=e.replace(`{${s}}`,r[s])})),e}onKeydown(s){const r=s.target;r.name&&this.errors.clear(r.name)}}b.routes={},b.errorMessage="Something went wrong. Please try again.",b.recentlySuccessfulTimeout=2e3,b.ignore=["busy","successful","errors","progress","originalData","recentlySuccessful","recentlySuccessfulTimeoutId"];const _=b},9725:(s,r,e)=>{e.r(r),e.d(r,{default:()=>c});var t=e(7757),o=e.n(t),a=e(5714);function n(s,r,e,t,o,a,n){try{var i=s[a](n),c=i.value}catch(s){return void e(s)}i.done?r(c):Promise.resolve(c).then(t,o)}const i={scrollToTop:!1,metaInfo:function(){return{title:this.$t("settings")}},data:function(){return{form:new a.ZP({password:"",password_confirmation:""}),passwordType:"password"}},methods:{passwordTypeChange:function(){"password"==this.passwordType?this.passwordType="text":this.passwordType="password"},update:function(){var s,r=this;return(s=o().mark((function s(){return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,r.form.patch("/api/settings/password");case 2:r.form.reset();case 3:case"end":return s.stop()}}),s)})),function(){var r=this,e=arguments;return new Promise((function(t,o){var a=s.apply(r,e);function i(s){n(a,t,o,i,c,"next",s)}function c(s){n(a,t,o,i,c,"throw",s)}i(void 0)}))})()}}};const c=(0,e(1900).Z)(i,(function(){var s=this,r=s.$createElement,e=s._self._c||r;return e("card",{attrs:{title:s.$t("your_password")}},[e("form",{on:{submit:function(r){return r.preventDefault(),s.update.apply(null,arguments)},keydown:function(r){return s.form.onKeydown(r)}}},[e("alert-success",{attrs:{form:s.form,message:s.$t("password_updated")}}),s._v(" "),e("div",{staticClass:"mb-3 row"},[e("label",{staticClass:"col-md-3 col-form-label text-md-end"},[s._v(s._s(s.$t("new_password")))]),s._v(" "),e("div",{staticClass:"col-md-7"},[e("div",{staticStyle:{display:"flex"}},["checkbox"===s.passwordType?e("input",{directives:[{name:"model",rawName:"v-model",value:s.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("password")},attrs:{name:"password",type:"checkbox"},domProps:{checked:Array.isArray(s.form.password)?s._i(s.form.password,null)>-1:s.form.password},on:{change:function(r){var e=s.form.password,t=r.target,o=!!t.checked;if(Array.isArray(e)){var a=s._i(e,null);t.checked?a<0&&s.$set(s.form,"password",e.concat([null])):a>-1&&s.$set(s.form,"password",e.slice(0,a).concat(e.slice(a+1)))}else s.$set(s.form,"password",o)}}}):"radio"===s.passwordType?e("input",{directives:[{name:"model",rawName:"v-model",value:s.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("password")},attrs:{name:"password",type:"radio"},domProps:{checked:s._q(s.form.password,null)},on:{change:function(r){return s.$set(s.form,"password",null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:s.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("password")},attrs:{name:"password",type:s.passwordType},domProps:{value:s.form.password},on:{input:function(r){r.target.composing||s.$set(s.form,"password",r.target.value)}}}),s._v(" "),"password"==s.passwordType?e("b-icon",{staticClass:"border rounded password-display",attrs:{icon:"eye-fill"},on:{click:s.passwordTypeChange}}):e("b-icon",{staticClass:"border rounded password-display",attrs:{icon:"eye-slash-fill"},on:{click:s.passwordTypeChange}})],1),s._v(" "),e("has-error",{attrs:{form:s.form,field:"password"}})],1)]),s._v(" "),e("div",{staticClass:"mb-3 row"},[e("label",{staticClass:"col-md-3 col-form-label text-md-end"},[s._v(s._s(s.$t("confirm_password")))]),s._v(" "),e("div",{staticClass:"col-md-7"},[e("div",{staticStyle:{display:"flex"}},["checkbox"===s.passwordType?e("input",{directives:[{name:"model",rawName:"v-model",value:s.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("password_confirmation")},attrs:{name:"password_confirmation",type:"checkbox"},domProps:{checked:Array.isArray(s.form.password_confirmation)?s._i(s.form.password_confirmation,null)>-1:s.form.password_confirmation},on:{change:function(r){var e=s.form.password_confirmation,t=r.target,o=!!t.checked;if(Array.isArray(e)){var a=s._i(e,null);t.checked?a<0&&s.$set(s.form,"password_confirmation",e.concat([null])):a>-1&&s.$set(s.form,"password_confirmation",e.slice(0,a).concat(e.slice(a+1)))}else s.$set(s.form,"password_confirmation",o)}}}):"radio"===s.passwordType?e("input",{directives:[{name:"model",rawName:"v-model",value:s.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("password_confirmation")},attrs:{name:"password_confirmation",type:"radio"},domProps:{checked:s._q(s.form.password_confirmation,null)},on:{change:function(r){return s.$set(s.form,"password_confirmation",null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:s.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("password_confirmation")},attrs:{name:"password_confirmation",type:s.passwordType},domProps:{value:s.form.password_confirmation},on:{input:function(r){r.target.composing||s.$set(s.form,"password_confirmation",r.target.value)}}}),s._v(" "),"password"==s.passwordType?e("b-icon",{staticClass:"border rounded password-display",attrs:{icon:"eye-fill"},on:{click:s.passwordTypeChange}}):e("b-icon",{staticClass:"border rounded password-display",attrs:{icon:"eye-slash-fill"},on:{click:s.passwordTypeChange}})],1),s._v(" "),e("has-error",{attrs:{form:s.form,field:"password_confirmation"}})],1)]),s._v(" "),e("div",{staticClass:"mb-3 row"},[e("div",{staticClass:"col-md-9 ms-md-auto"},[e("v-button",{attrs:{loading:s.form.busy,type:"success"}},[s._v("\n          "+s._s(s.$t("update"))+"\n        ")])],1)])],1)])}),[],!1,null,null,null).exports}}]);