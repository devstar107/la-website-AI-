"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5977],{5977:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(7757),l=a.n(s),r=a(9669),i=a.n(r);function n(e,t,a,s,l,r,i){try{var n=e[r](i),o=n.value}catch(e){return void a(e)}n.done?t(o):Promise.resolve(o).then(s,l)}const o={data:function(){return{items:[],fields:[{key:"index",label:""},{key:"email",label:this.$root.$i18n.tc("email")},{key:"app_name",label:this.$root.$i18n.tc("applications.app_name")},{key:"cat_tab",label:this.$root.$i18n.tc("applications.cat_tab")},{key:"period_date",label:this.$root.$i18n.tc("expire_date")},{key:"capacity",label:this.$root.$i18n.tc("applications.capacity")},{key:"created_at",label:this.$root.$i18n.tc("created_date")}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15,{value:100,text:this.$root.$i18n.tc("show_a_lot")}],filter:null,filterOn:[]}},mounted:function(){this.totalRows=this.items.length},created:function(){this.getRegisteredCustomers()},methods:{onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},removeRow:function(e){this.items.splice(e,1)},getRegisteredCustomers:function(e){var t,a=this;return(t=l().mark((function e(){var t,s,r,n,o,c,p,u,m,b,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("/api/get/purchase/admin/registered_customers");case 2:for(t=e.sent,s=t.data,console.log(s),r=0;r<s.length;r++)n=new Date(s[r].created_at),o=n.getFullYear(),c=n.getMonth()+1,p=n.getDate(),s[r].created_at=o+"-"+c+"-"+p,(u=new Date(s[r].created_at)).setDate(n.getDate()+s[r].period_date),m=u.getFullYear(),b=u.getMonth()+1,d=u.getDate(),s[r].period_date=m+"-"+b+"-"+d;a.items=s,a.totalRows=a.items.length;case 8:case"end":return e.stop()}}),e)})),function(){var e=this,a=arguments;return new Promise((function(s,l){var r=t.apply(e,a);function i(e){n(r,s,l,i,o,"next",e)}function o(e){n(r,s,l,i,o,"throw",e)}i(void 0)}))})()}},computed:(0,a(629).Se)({user:"auth/user"})};const c=(0,a(1900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header"},[a("h1",[e._v(e._s(e.$t("customers")))])]),e._v(" "),a("div",{staticClass:"content"},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"5"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:e.$t("filter"),"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:e.$t("type_to_search")},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v(e._s(e.$t("clear")))])],1)],1)],1)],1),e._v(" "),a("b-col",{staticClass:"my-1",attrs:{lg:"7"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:e.$t("filter_on"),"label-cols-sm":"3","label-align-sm":"right","label-size":"sm"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.ariaDescribedby;return[a("b-form-checkbox-group",{staticClass:"mt-1",attrs:{"aria-describedby":s},model:{value:e.filterOn,callback:function(t){e.filterOn=t},expression:"filterOn"}},[a("b-form-checkbox",{attrs:{value:"email"}},[e._v(e._s(e.$t("email")))]),e._v(" "),a("b-form-checkbox",{attrs:{value:"app_name"}},[e._v(e._s(e.$t("applications.app_name")))]),e._v(" "),a("b-form-checkbox",{attrs:{value:"cat_tab"}},[e._v(e._s(e.$t("applications.cat_tab")))])],1)]}}])})],1),e._v(" "),a("b-col",{staticClass:"my-1",attrs:{md:"5"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:e.$t("per_page"),"label-for":"per-page-select","label-cols-lg":"4","label-align-sm":"center","label-size":"sm"}},[a("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),e._v(" "),a("b-col",{attrs:{md:"4"}}),e._v(" "),a("b-col",{staticClass:"my-1",attrs:{md:"3"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),e._v(" "),a("b-table",{attrs:{responsive:"",striped:"",hover:"",items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,stacked:"md","show-empty":"",small:""},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(index)",fn:function(t){return[e._v("\n                    "+e._s(t.index+1)+"\n                ")]}},{key:"cell(capacity)",fn:function(t){return[e._v("\n                    "+e._s(t.item.capacity)+" "+e._s(t.item.capacity_unit)+"                      \n                ")]}}])}),e._v(" "),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"5"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:e.$t("per_page"),"label-for":"per-page-select","label-cols-lg":"4","label-align-sm":"center","label-size":"sm"}},[a("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),e._v(" "),a("b-col",{attrs:{md:"4"}}),e._v(" "),a("b-col",{staticClass:"my-1",attrs:{md:"3"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)],1)])}),[],!1,null,"6e80250a",null).exports}}]);