"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4625],{4625:(t,e,a)=>{a.r(e),a.d(e,{default:()=>p});var s=a(7757),n=a.n(s),o=a(9669),i=a.n(o);var r=a(8764),l=a.n(r);function c(t,e,a,s,n,o,i){try{var r=t[o](i),l=r.value}catch(t){return void a(t)}r.done?e(l):Promise.resolve(l).then(s,n)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var o=t.apply(e,a);function i(t){c(o,s,n,i,r,"next",t)}function r(t){c(o,s,n,i,r,"throw",t)}i(void 0)}))}}const u={props:{dataBackgroundColor:{type:String,default:""}},data:function(){return{transaction_con:"",deposit_amount:"",role:"",permission:"",user_id:"",user_image:"/images/default-avatar.png?51352ec699cae5b7ef78308edc3f8269",profiledata:"",loading:!1,rejection_loading:!1,approval_loading:!1,pending_loading:!1}},created:function(){this.user_id=this.$route.params.id,this.getUserById(this.user_id)},methods:{getUserById:function(t){var e=this;return d(n().mark((function a(){var s,o;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i().get("/api/get/user/"+t);case 2:s=a.sent,o=s.data,e.profiledata=o,e.role=o.role,e.permission=o.permission,"agency"==o.role&&o.transaction_con&&o.deposit_amount&&(e.transaction_con=o.transaction_con,e.deposit_amount=o.deposit_amount),console.log(o);case 9:case"end":return a.stop()}}),a)})))()},role_update:function(){var t=this;return d(n().mark((function e(){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,i().post("/api/user/role_update",{role:t.role,permission:t.permission,user_id:t.user_id});case 3:a=e.sent,s=a.data,t.loading=!1,s?l().fire({icon:"success",title:t.$t("successTitle"),text:t.$t("successText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}):l().fire({icon:"warning",title:t.$t("warningTitle"),text:t.$t("warningText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")});case 7:case"end":return e.stop()}}),e)})))()},agency_rejection:function(){var t=this;return d(n().mark((function e(){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rejection_loading=!0,e.next=3,i().post("/api/user/agency/rejection",{user_id:t.user_id});case 3:a=e.sent,s=a.data,t.rejection_loading=!1,s?l().fire({icon:"success",title:t.$t("successTitle"),text:t.$t("successText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}).then((function(){t.$router.push({name:"admin.users"})})):l().fire({icon:"warning",title:t.$t("warningTitle"),text:t.$t("warningText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")});case 7:case"end":return e.stop()}}),e)})))()},agency_approval:function(){var t=this;return d(n().mark((function e(){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.approval_loading=!0,e.next=3,i().post("/api/user/agency/approve",{user_id:t.user_id});case 3:a=e.sent,s=a.data,t.approval_loading=!1,s?l().fire({icon:"success",title:t.$t("successTitle"),text:t.$t("successText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}).then((function(){t.$router.push({name:"admin.users"})})):l().fire({icon:"warning",title:t.$t("warningTitle"),text:t.$t("warningText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")});case 7:case"end":return e.stop()}}),e)})))()},agency_pending:function(){var t=this;return d(n().mark((function e(){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pending_loading=!0,e.next=3,i().post("/api/user/agency/pending",{user_id:t.user_id,transaction_con:t.transaction_con,deposit_amount:t.deposit_amount});case 3:a=e.sent,s=a.data,t.pending_loading=!1,s?l().fire({icon:"success",title:t.$t("successTitle"),text:t.$t("successText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")}).then((function(){t.$router.push({name:"admin.users"})})):l().fire({icon:"warning",title:t.$t("warningTitle"),text:t.$t("warningText"),reverseButtons:!0,confirmButtonText:t.$t("ok"),cancelButtonText:t.$t("cancel")});case 7:case"end":return e.stop()}}),e)})))()}}};const p=(0,a(1900).Z)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-sm-flex align-items-center justify-content-between mb-4"},[a("h1",{staticClass:"h3 mb-0 text-gray-800"},[t._v(t._s(t.$t("profile")))]),t._v(" "),a("router-link",{staticClass:"btn btn-secondary btn-icon-split",attrs:{to:{name:"admin.users"}}},[a("span",{staticClass:"text"},[t._v(t._s(t.$t("back")))]),t._v(" "),a("span",{staticClass:"icon text-white-50"},[a("i",{staticClass:"fas fa-arrow-right"})])])],1),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"col-sm-9"},[a("div",{staticClass:"profile_pan"},[a("div",{staticClass:"header-flex"},[a("div",{staticClass:"profile_header"},[a("h5",[t._v(t._s(t.$t("profile")))])])]),t._v(" "),a("div",{staticClass:"content-flex"},[a("div",{staticClass:"w-25"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s("agency"==t.role?t.$t("company_name"):t.$t("first_name")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"agency"==t.role?"company_name":"first_name",disabled:""},domProps:{value:"agency"==t.role?t.profiledata.company_name:t.profiledata.first_name}})]),t._v(" "),a("div",{staticClass:"w-25"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s("agency"==t.role?t.$t("seo_name"):t.$t("last_name")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"agency"==t.role?"seo_name":"last_name",disabled:""},domProps:{value:"agency"==t.role?t.profiledata.seo_name:t.profiledata.first_name}})]),t._v(" "),a("div",{staticClass:"w-25"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("name")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"name",disabled:""},domProps:{value:t.profiledata.name}})]),t._v(" "),a("div",{staticClass:"w-25"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("nike_name")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"nike_name",disabled:""},domProps:{value:t.profiledata.nikename}})])]),t._v(" "),a("div",{staticClass:"content-flex"},[a("div",{staticClass:"w-30"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("email")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"email",disabled:""},domProps:{value:t.profiledata.email}})]),t._v(" "),a("div",{staticClass:"w-30"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s("agency"==t.role?t.$t("company_site"):t.$t("organization")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"agency"==t.role?"company_site":"organization",disabled:""},domProps:{value:"agency"==t.role?t.profiledata.company_site:t.profiledata.organization}})]),t._v(" "),a("div",{staticClass:"w-30"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("deaprtment")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"deaprtment",disabled:""},domProps:{value:t.profiledata.deaprtment}})])]),t._v(" "),a("div",{staticClass:"content-flex"},[a("div",{staticClass:"w-30"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("phone")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"phone",disabled:""},domProps:{value:t.profiledata.phone}})]),t._v(" "),a("div",{staticClass:"w-30"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("address_1")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"address_1",disabled:""},domProps:{value:t.profiledata.address_1}})]),t._v(" "),a("div",{staticClass:"w-30"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s("agency"==t.role?t.$t("zip"):t.$t("address_2")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"agency"==t.role?"zip":"address_2",disabled:""},domProps:{value:"agency"==t.role?t.profiledata.zip:t.profiledata.address_2}})])]),t._v(" "),"agency"!=t.role?a("div",{staticClass:"content-flex"},[a("div",{staticClass:"w-50"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("country")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"country",disabled:""},domProps:{value:t.profiledata.country}})]),t._v(" "),a("div",{staticClass:"w-50"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("zip")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"zip",disabled:""},domProps:{value:t.profiledata.zip}})])]):t._e(),t._v(" "),"agency"!=t.role?a("div",{staticClass:"content-flex"},[a("div",{staticClass:"w-50"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("state")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"state",disabled:""},domProps:{value:t.profiledata.state}})]),t._v(" "),a("div",{staticClass:"w-50"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("city")))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",name:"city",disabled:""},domProps:{value:t.profiledata.city}})])]):t._e(),t._v(" "),"agency"==t.role?a("div",{staticClass:"content-flex"},[a("div",{staticClass:"w-100"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("transaction_con")))]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.transaction_con,expression:"transaction_con"}],staticClass:"form-control",attrs:{type:"text",name:"transaction_con"},domProps:{value:t.transaction_con},on:{input:function(e){e.target.composing||(t.transaction_con=e.target.value)}}},[t._v(t._s(t.profiledata.transaction_con))])])]):t._e(),t._v(" "),"agency"==t.role?a("div",{staticClass:"content-flex"},[a("div",{staticClass:"w-100"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("deposit_amount")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.deposit_amount,expression:"deposit_amount"}],staticClass:"form-control",attrs:{type:"number",name:"deposit_amount"},domProps:{value:t.deposit_amount},on:{input:function(e){e.target.composing||(t.deposit_amount=e.target.value)}}})])]):t._e(),t._v(" "),"agency"==t.role?a("div",{staticClass:"content-flex button"},[a("b-button",{attrs:{variant:"danger",disabled:t.rejection_loading},on:{click:function(e){return t.agency_rejection()}}},[a("b-spinner",{attrs:{small:"",hidden:!t.rejection_loading}}),t._v("\n                        "+t._s(t.$t("rejection"))+"\n                    ")],1),t._v(" "),a("b-button",{attrs:{variant:"success",disabled:t.approval_loading},on:{click:function(e){return t.agency_approval()}}},[a("b-spinner",{attrs:{small:"",hidden:!t.approval_loading}}),t._v("\n                        "+t._s(t.$t("approval"))+"\n                    ")],1),t._v(" "),a("b-button",{attrs:{variant:"primary",disabled:t.pending_loading},on:{click:function(e){return t.agency_pending()}}},[a("b-spinner",{attrs:{small:"",hidden:!t.pending_loading}}),t._v("\n                        "+t._s(t.$t("pending"))+"\n                    ")],1)],1):t._e()])]),t._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"photo_pan"},[a("div",{staticClass:"header-photo-flex"},[a("div",{staticClass:"photo_header"},[a("img",{attrs:{src:t.profiledata.photo_url?t.profiledata.photo_url:t.user_image}})])]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.role_update.apply(null,arguments)}}},[a("div",{staticClass:"content-flex"},[a("div",{staticClass:"w-100"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("role")))]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],staticClass:"form-control",attrs:{name:"role"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.role=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"admin"}},[t._v(t._s(t.$t("admin")))]),t._v(" "),a("option",{attrs:{value:"customer"}},[t._v(t._s(t.$t("customer")))]),t._v(" "),a("option",{attrs:{value:"agency"}},[t._v(t._s(t.$t("agency")))])])])]),t._v(" "),a("div",{staticClass:"content-flex"},[a("div",{staticClass:"w-100"},[a("label",{staticClass:"col-form-label text-md-end"},[t._v(t._s(t.$t("permission")))]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.permission,expression:"permission"}],staticClass:"form-control",attrs:{name:"permission"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.permission=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"approved"}},[t._v(t._s(t.$t("approved")))]),t._v(" "),a("option",{attrs:{value:"suspend"}},[t._v(t._s(t.$t("suspend")))]),t._v(" "),a("option",{attrs:{value:"deny"}},[t._v(t._s(t.$t("deny")))])])])]),t._v(" "),a("div",{staticClass:"content-flex"},[a("div",{staticClass:"w-100",staticStyle:{"text-align":"center"}},[a("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.loading}},[a("b-spinner",{attrs:{small:"",hidden:!t.loading}}),t._v("\n                            "+t._s(t.$t("update"))+"\n                            ")],1)],1)])])])])])])}),[],!1,null,null,null).exports}}]);