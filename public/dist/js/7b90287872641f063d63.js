"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9445],{9445:(t,e,a)=>{a.r(e),a.d(e,{default:()=>p});var n=a(7757),i=a.n(n),s=a(9669),c=a.n(s);function r(t,e,a,n,i,s,c){try{var r=t[s](c),o=r.value}catch(t){return void a(t)}r.done?e(o):Promise.resolve(o).then(n,i)}function o(t){return function(){var e=this,a=arguments;return new Promise((function(n,i){var s=t.apply(e,a);function c(t){r(s,n,i,c,o,"next",t)}function o(t){r(s,n,i,c,o,"throw",t)}c(void 0)}))}}const l={data:function(){return{items:"",fields:[{key:"index",label:""},{key:"app_name",label:this.$root.$i18n.tc("applications.app_name")},{key:"cat_id",label:this.$root.$i18n.tc("applications.cat_id")},{key:"category_tab",label:this.$root.$i18n.tc("applications.cat_tab")},{key:"price",label:this.$root.$i18n.tc("applications.price")},{key:"discount",label:this.$root.$i18n.tc("applications.discount")},{key:"discount_price",label:this.$root.$i18n.tc("applications.discount_price")},{key:"period_date",label:this.$root.$i18n.tc("expire_date")},{key:"capacity",label:this.$root.$i18n.tc("applications.capacity")},{key:"active",label:this.$root.$i18n.tc("action")}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15,{value:100,text:"Show a lot"}]}},mounted:function(){this.totalRows=this.items.length},methods:{getApplications:function(){var t=this;return o(i().mark((function e(){var a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/api/get/applications");case 2:a=e.sent,n=a.data,t.items=n,t.totalRows=t.items.length;case 6:case"end":return e.stop()}}),e)})))()},delete_application:function(t){var e=this;return o(i().mark((function a(){var n,s;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(t),a.next=3,c().post("/api/post/delete_application",{app_id:t});case 3:n=a.sent,s=n.data,console.log(s),"success"==s.status?swal.fire({icon:"success",title:e.$t("successTitle"),text:e.$t("successText"),reverseButtons:!0,confirmButtonText:e.$t("ok"),cancelButtonText:e.$t("cancel")}).then((function(){e.getApplications()})):swal.fire({icon:"warning",title:e.$t("warningTitle"),text:e.$t("warningText"),reverseButtons:!0,confirmButtonText:e.$t("ok"),cancelButtonText:e.$t("cancel")});case 7:case"end":return a.stop()}}),a)})))()}},created:function(){this.getApplications()}};const p=(0,a(1900).Z)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-sm-flex align-items-center justify-content-between mb-4"},[a("h1",{staticClass:"h3 mb-0 text-gray-800"},[t._v(t._s(t.$t("applications.title")))]),t._v(" "),a("router-link",{staticClass:"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm",attrs:{to:{name:"admin.application.create"}}},[t._v(t._s(t.$t("applications.create_new_application")))])],1),t._v(" "),a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:t.$t("per_page"),"label-for":"per-page-select","label-cols-lg":"4","label-align-sm":"center","label-size":"sm"}},[a("b-form-select",{attrs:{id:"per-page-select",options:t.pageOptions,size:"sm"},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),t._v(" "),a("b-col",{attrs:{md:"5"}}),t._v(" "),a("b-col",{staticClass:"my-1",attrs:{md:"3"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1),t._v(" "),a("b-table",{attrs:{responsive:"",striped:"",hover:"",items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,stacked:"md","show-empty":"",small:""},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n                "+t._s(e.index+1)+"\n            ")]}},{key:"cell(category_tab)",fn:function(e){return[a("router-link",{attrs:{to:{name:"app-update",query:{id:e.item.id}}}},[t._v(t._s(e.value))])]}},{key:"cell(price)",fn:function(e){return[t._v("\n                "+t._s(t.$t(e.item.price))+"\n            ")]}},{key:"cell(discount)",fn:function(e){return[t._v("\n                "+t._s(e.item.discount)+" %\n            ")]}},{key:"cell(discount_price)",fn:function(e){return[t._v("\n                "+t._s(t.$t(e.item.discount_price))+"\n            ")]}},{key:"cell(period_date)",fn:function(e){return[t._v("\n                "+t._s(e.item.period_date)+" days\n            ")]}},{key:"cell(capacity)",fn:function(e){return[t._v("\n                "+t._s(e.item.capacity)+t._s(e.item.capacity_unit)+"\n            ")]}},{key:"cell(active)",fn:function(e){return[a("b-icon",{attrs:{icon:"trash",variant:"primary"},on:{click:function(a){return t.delete_application(e.item.id)}}})]}}])}),t._v(" "),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:t.$t("per_page"),"label-for":"per-page-select","label-cols-lg":"4","label-align-sm":"center","label-size":"sm"}},[a("b-form-select",{attrs:{id:"per-page-select",options:t.pageOptions,size:"sm"},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),t._v(" "),a("b-col",{attrs:{md:"4"}}),t._v(" "),a("b-col",{staticClass:"my-1",attrs:{md:"3"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)}),[],!1,null,"18e0da92",null).exports}}]);